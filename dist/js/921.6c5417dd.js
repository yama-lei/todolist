"use strict";(self["webpackChunkzhiyuxinsheng"]=self["webpackChunkzhiyuxinsheng"]||[]).push([[921],{2921:function(e,l,o){o.r(l),o.d(l,{default:function(){return v}});var a=o(6768),r=o(5130);const n={class:"login-container"},s={class:"login-card"},i={class:"login-header"},t={class:"app-logo"},d={class:"login-form"},u={class:"form-options"},g={class:"register-link"};function m(e,l,o,m,c,p){const k=(0,a.g2)("Sunny"),f=(0,a.g2)("el-icon"),b=(0,a.g2)("el-input"),h=(0,a.g2)("el-form-item"),L=(0,a.g2)("el-checkbox"),y=(0,a.g2)("router-link"),v=(0,a.g2)("el-button"),w=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)("div",n,[l[11]||(l[11]=(0,a.Lk)("div",{class:"login-background"},null,-1)),(0,a.Lk)("div",s,[(0,a.Lk)("div",i,[(0,a.Lk)("div",t,[(0,a.bF)(f,{class:"logo-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(k)])),_:1}),l[3]||(l[3]=(0,a.Lk)("h1",null,"植物日记",-1))]),l[4]||(l[4]=(0,a.Lk)("p",{class:"login-subtitle"},"欢迎回来，请登录您的账户",-1))]),(0,a.Lk)("div",d,[(0,a.bF)(w,{ref:"loginForm",model:m.formModel,rules:m.rules,"label-position":"top",onKeyup:(0,r.jR)(m.handleLogin,["enter"]),class:"login-form-container"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"邮箱",prop:"email"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:m.formModel.email,"onUpdate:modelValue":l[0]||(l[0]=e=>m.formModel.email=e),placeholder:"请输入邮箱",type:"email","prefix-icon":"Message",clearable:"","input-style":{height:"44px"},autocomplete:"email"},null,8,["modelValue"])])),_:1}),(0,a.bF)(h,{label:"密码",prop:"password"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:m.formModel.password,"onUpdate:modelValue":l[1]||(l[1]=e=>m.formModel.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",clearable:"","input-style":{height:"44px"},autocomplete:"current-password"},null,8,["modelValue"])])),_:1}),(0,a.Lk)("div",u,[(0,a.bF)(L,{modelValue:m.formModel.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>m.formModel.remember=e),size:"large"},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("记住我")]))),_:1},8,["modelValue"]),(0,a.bF)(y,{to:"/forgot-password",class:"forgot-link"},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("忘记密码?")]))),_:1})]),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{type:"primary",class:"login-button",loading:m.authStore.loading,onClick:m.handleLogin,size:"large"},{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.eW)(" 登录 ")]))),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules","onKeyup"]),l[10]||(l[10]=(0,a.Lk)("div",{class:"login-divider"},[(0,a.Lk)("span",null,"或者")],-1)),(0,a.Lk)("div",g,[l[9]||(l[9]=(0,a.Lk)("span",null,"还没有账号?",-1)),(0,a.bF)(y,{to:"/register"},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("立即注册")]))),_:1})])])])])}o(4114);var c=o(144),p=o(1387),k=o(14),f=o(7477),b=o(1219),h={name:"LoginPage",components:{Sunny:f.Sunny,Message:f.Message,Lock:f.Lock},setup(){const e=(0,p.lq)(),l=(0,p.rd)(),o=(0,k.n)(),a=(0,c.KR)(null),r=(0,c.Kh)({email:"",password:"",remember:!1}),n={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6个字符",trigger:"blur"}]},s=async()=>{a.value&&await a.value.validate((async a=>{if(!a)return b.nk.warning("请正确填写登录信息"),!1;try{await o.login({email:r.email,password:r.password,remember:r.remember});const a=e.query.redirect||"/";l.push(a)}catch(n){console.error("登录失败:",n)}}))};return{loginForm:a,formModel:r,rules:n,authStore:o,handleLogin:s}}},L=o(1241);const y=(0,L.A)(h,[["render",m],["__scopeId","data-v-35f62832"]]);var v=y}}]);
//# sourceMappingURL=921.6c5417dd.js.map