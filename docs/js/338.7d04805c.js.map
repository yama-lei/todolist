{"version":3,"file":"js/338.7d04805c.js","mappings":"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","sources":["webpack://zhiyuxinsheng/./src/views/ForgotPassword.vue","webpack://zhiyuxinsheng/./src/views/ForgotPassword.vue?1314"],"sourcesContent":["<template>\r\n  <div class=\"forgot-container\">\r\n    <div class=\"forgot-card\">\r\n      <div class=\"forgot-header\">\r\n        <div class=\"app-logo\">\r\n          <el-icon class=\"logo-icon\"><Sunny /></el-icon>\r\n          <h1>植物日记</h1>\r\n        </div>\r\n        <p class=\"forgot-subtitle\">找回密码</p>\r\n      </div>\r\n      \r\n      <div class=\"forgot-form\">\r\n        <p class=\"instruction\">请输入您注册时使用的电子邮箱地址，我们将向您发送密码重置链接。</p>\r\n        \r\n        <el-form \r\n          ref=\"forgotForm\" \r\n          :model=\"forgotForm\" \r\n          :rules=\"rules\" \r\n          label-position=\"top\"\r\n          @keyup.enter=\"handleSubmit\"\r\n        >\r\n          <el-form-item label=\"电子邮箱\" prop=\"email\">\r\n            <el-input \r\n              v-model=\"forgotForm.email\" \r\n              type=\"email\" \r\n              placeholder=\"请输入您的邮箱地址\" \r\n              prefix-icon=\"Message\"\r\n              clearable\r\n            />\r\n          </el-form-item>\r\n          \r\n          <el-form-item>\r\n            <el-button \r\n              type=\"primary\" \r\n              class=\"submit-button\" \r\n              :loading=\"authStore.loading\"\r\n              @click=\"handleSubmit\"\r\n            >\r\n              发送重置链接\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        \r\n        <div class=\"back-link\">\r\n          <router-link to=\"/login\">\r\n            <el-icon><Back /></el-icon> 返回登录页\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '../stores/auth'\r\nimport { Sunny, Message, Back } from '@element-plus/icons-vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'ForgotPasswordPage',\r\n  components: {\r\n    Sunny,\r\n    Message,\r\n    Back\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const authStore = useAuthStore()\r\n    const forgotForm = ref(null)\r\n    \r\n    const formData = reactive({\r\n      email: ''\r\n    })\r\n    \r\n    const rules = {\r\n      email: [\r\n        { required: true, message: '请输入电子邮箱', trigger: 'blur' },\r\n        { type: 'email', message: '请输入有效的电子邮箱地址', trigger: 'blur' }\r\n      ]\r\n    }\r\n    \r\n    const handleSubmit = async () => {\r\n      if (!forgotForm.value) return\r\n      \r\n      await forgotForm.value.validate(async (valid) => {\r\n        if (valid) {\r\n          try {\r\n            await authStore.forgotPassword(formData.email)\r\n            \r\n            // 成功发送重置邮件后提示用户\r\n            ElMessage.success('密码重置链接已发送到您的邮箱，请查收！')\r\n            \r\n            // 短暂延迟后跳转到登录页\r\n            setTimeout(() => {\r\n              router.push('/login')\r\n            }, 3001)\r\n          } catch (error) {\r\n            // 错误已在authStore中处理\r\n            console.error('发送重置邮件失败:', error)\r\n          }\r\n        } else {\r\n          ElMessage.warning('请正确填写电子邮箱')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n    \r\n    return {\r\n      forgotForm,\r\n      forgotForm: formData,\r\n      rules,\r\n      authStore,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.forgot-container {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100%;\r\n}\r\n\r\n.forgot-card {\r\n  width: 100%;\r\n  max-width: 450px;\r\n  margin: auto;\r\n  padding: 40px;\r\n  background-color: #fff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);\r\n  z-index: 2;\r\n  position: relative;\r\n}\r\n\r\n.forgot-header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.app-logo {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.logo-icon {\r\n  font-size: 48px;\r\n  color: #4caf50;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.app-logo h1 {\r\n  font-size: 28px;\r\n  color: #333;\r\n  margin: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.forgot-subtitle {\r\n  color: #666;\r\n  font-size: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.forgot-form {\r\n  margin-top: 20px;\r\n}\r\n\r\n.instruction {\r\n  color: #666;\r\n  margin-bottom: 30px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.submit-button {\r\n  width: 100%;\r\n  height: 44px;\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n  background: linear-gradient(135deg, #4caf50, #2e7d32);\r\n  border: none;\r\n}\r\n\r\n.back-link {\r\n  text-align: center;\r\n  margin-top: 30px;\r\n}\r\n\r\n.back-link a {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: #4caf50;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n}\r\n\r\n.back-link a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.back-link .el-icon {\r\n  margin-right: 5px;\r\n}\r\n\r\n.forgot-decoration {\r\n  position: fixed;\r\n  top: -20px;\r\n  right: -20px;\r\n  width: 50%;\r\n  max-width: 700px;\r\n  opacity: 0.5;\r\n  z-index: 1;\r\n}\r\n\r\n.forgot-decoration img {\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .forgot-card {\r\n    max-width: 100%;\r\n    border-radius: 0;\r\n    box-shadow: none;\r\n    padding: 30px 20px;\r\n  }\r\n  \r\n  .forgot-decoration {\r\n    display: none;\r\n  }\r\n}\r\n</style> ","import { render } from \"./ForgotPassword.vue?vue&type=template&id=cbf44a5e&scoped=true\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js\"\n\nimport \"./ForgotPassword.vue?vue&type=style&index=0&id=cbf44a5e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cbf44a5e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_el_icon","default","_withCtx","_component_Sunny","_","_hoisted_5","_component_el_form","ref","model","$setup","forgotForm","rules","onKeyup","_withKeys","handleSubmit","_component_el_form_item","label","prop","_component_el_input","modelValue","email","_cache","$event","type","placeholder","clearable","_component_el_button","loading","authStore","onClick","_createTextVNode","_hoisted_6","_component_router_link","to","_component_Back","name","components","Sunny","Message","Back","setup","router","useRouter","useAuthStore","formData","reactive","required","message","trigger","async","value","validate","valid","ElMessage","warning","forgotPassword","success","setTimeout","push","error","console","__exports__","render"],"sourceRoot":""}