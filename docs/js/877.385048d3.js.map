{"version":3,"file":"js/877.385048d3.js","mappings":"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","sources":["webpack://zhiyuxinsheng/./src/views/Register.vue","webpack://zhiyuxinsheng/./src/views/Register.vue?157d"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n    <div class=\"register-card\">\r\n      <div class=\"register-header\">\r\n        <div class=\"app-logo\">\r\n          <el-icon class=\"logo-icon\"><Sunny /></el-icon>\r\n          <h1>植物日记</h1>\r\n        </div>\r\n        <p class=\"register-subtitle\">创建您的新账号</p>\r\n      </div>\r\n\r\n      <div class=\"register-form\">\r\n        <el-form\r\n          ref=\"formRef\"\r\n          :model=\"registerForm\"\r\n          :rules=\"rules\"\r\n          label-position=\"top\"\r\n          @keyup.enter=\"handleRegister\"\r\n        >\r\n          <el-form-item label=\"用户名\" prop=\"username\">\r\n            <el-input\r\n              v-model=\"registerForm.username\"\r\n              placeholder=\"请输入用户名\"\r\n              prefix-icon=\"User\"\r\n              clearable\r\n            />\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"电子邮箱\" prop=\"email\">\r\n            <el-input\r\n              v-model=\"registerForm.email\"\r\n              type=\"email\"\r\n              placeholder=\"请输入电子邮箱\"\r\n              prefix-icon=\"Message\"\r\n              clearable\r\n            />\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input\r\n              v-model=\"registerForm.password\"\r\n              type=\"password\"\r\n              placeholder=\"请输入密码\"\r\n              prefix-icon=\"Lock\"\r\n              show-password\r\n              clearable\r\n            />\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\r\n            <el-input\r\n              v-model=\"registerForm.confirmPassword\"\r\n              type=\"password\"\r\n              placeholder=\"请再次输入密码\"\r\n              prefix-icon=\"Lock\"\r\n              show-password\r\n              clearable\r\n            />\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item>\r\n            <el-button\r\n              type=\"primary\"\r\n              class=\"submit-button\"\r\n              :loading=\"authStore.loading\"\r\n              @click=\"handleRegister\"\r\n            >\r\n              注册\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <div class=\"login-link\">\r\n          已有账号？\r\n          <router-link to=\"/login\" class=\"login-text\"> 立即登录 </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '../stores/auth'\r\nimport { Sunny, User, Message, Lock } from '@element-plus/icons-vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'RegisterPage',\r\n  components: {\r\n    Sunny,\r\n    User,\r\n    Message,\r\n    Lock\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const authStore = useAuthStore()\r\n\r\n    // 表单引用（用于调用 validate）\r\n    const formRef = ref(null)\r\n\r\n    // 表单数据模型\r\n    const registerForm = reactive({\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      agreement: false\r\n    })\r\n\r\n    // 验证两次密码是否一致\r\n    const validatePass2 = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'))\r\n      } else if (value !== registerForm.password) {\r\n        callback(new Error('两次输入密码不一致'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    // 验证协议是否勾选\r\n    const validateAgreement = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback(new Error('请阅读并同意服务条款和隐私政策'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    // 表单验证规则\r\n    const rules = {\r\n      username: [\r\n        { required: true, message: '请输入用户名', trigger: 'blur' },\r\n        { min: 3, max: 20, message: '用户名长度应在3到20个字符之间', trigger: 'blur' }\r\n      ],\r\n      email: [\r\n        { required: true, message: '请输入电子邮箱', trigger: 'blur' },\r\n        { type: 'email', message: '请输入有效的电子邮箱地址', trigger: 'blur' }\r\n      ],\r\n      password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' },\r\n        { min: 6, message: '密码长度至少为6个字符', trigger: 'blur' }\r\n      ],\r\n      confirmPassword: [\r\n        { required: true, validator: validatePass2, trigger: 'blur' }\r\n      ],\r\n      agreement: [\r\n        { validator: validateAgreement, trigger: 'change' }\r\n      ]\r\n    }\r\n\r\n    // 提交注册逻辑\r\n    const handleRegister = async () => {\r\n      if (!formRef.value) return\r\n\r\n      await formRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n          try {\r\n            await authStore.register({\r\n              username: registerForm.username,\r\n              email: registerForm.email,\r\n              password: registerForm.password\r\n            })\r\n\r\n            ElMessage.success('注册成功！即将为您跳转到登录页面。')\r\n\r\n            setTimeout(() => {\r\n              router.push('/login')\r\n            }, 2000)\r\n          } catch (error) {\r\n            console.error('注册失败:', error)\r\n          }\r\n        } else {\r\n          ElMessage.warning('请完成所有必填项并正确填写')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n\r\n    return {\r\n      formRef,\r\n      registerForm,\r\n      rules,\r\n      authStore,\r\n      handleRegister\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.register-card {\r\n  width: 100%;\r\n  max-width: 450px;\r\n  margin: auto;\r\n  padding: 40px;\r\n  background-color: #fff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);\r\n  z-index: 2;\r\n  position: relative;\r\n}\r\n\r\n.register-header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.app-logo {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.logo-icon {\r\n  font-size: 48px;\r\n  color: #4caf50;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.app-logo h1 {\r\n  font-size: 28px;\r\n  color: #333;\r\n  margin: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.register-subtitle {\r\n  color: #666;\r\n  font-size: 16px;\r\n  margin: 0;\r\n}\r\n\r\n.register-form {\r\n  margin-top: 20px;\r\n}\r\n\r\n.submit-button {\r\n  width: 100%;\r\n  height: 44px;\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n  background: linear-gradient(135deg, #4caf50, #2e7d32);\r\n  border: none;\r\n}\r\n\r\n\r\n.terms-link:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.login-link {\r\n  text-align: center;\r\n  margin-top: 30px;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.login-text {\r\n  color: #4caf50;\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n}\r\n\r\n.login-text:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=e11724f2&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=e11724f2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e11724f2\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_el_icon","default","_withCtx","_component_Sunny","_","_hoisted_5","_component_el_form","ref","model","$setup","registerForm","rules","onKeyup","_withKeys","handleRegister","_component_el_form_item","label","prop","_component_el_input","modelValue","username","_cache","$event","placeholder","clearable","email","type","password","confirmPassword","_component_el_button","loading","authStore","onClick","_createTextVNode","_hoisted_6","_component_router_link","to","name","components","Sunny","User","Message","Lock","setup","router","useRouter","useAuthStore","formRef","reactive","agreement","validatePass2","rule","value","callback","Error","validateAgreement","required","message","trigger","min","max","validator","async","validate","valid","ElMessage","warning","register","success","setTimeout","push","error","console","__exports__","render"],"sourceRoot":""}