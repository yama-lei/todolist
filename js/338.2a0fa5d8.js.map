{"version":3,"file":"js/338.2a0fa5d8.js","mappings":"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","sources":["webpack://zhiyuxinsheng/./src/views/ForgotPassword.vue","webpack://zhiyuxinsheng/./src/views/ForgotPassword.vue?1314"],"sourcesContent":["<template>\n  <div class=\"forgot-container\">\n    <div class=\"forgot-card\">\n      <div class=\"forgot-header\">\n        <div class=\"app-logo\">\n          <el-icon class=\"logo-icon\"><Sunny /></el-icon>\n          <h1>植物日记</h1>\n        </div>\n        <p class=\"forgot-subtitle\">找回密码</p>\n      </div>\n      \n      <div class=\"forgot-form\">\n        <p class=\"instruction\">请输入您注册时使用的电子邮箱地址，我们将向您发送密码重置链接。</p>\n        \n        <el-form \n          ref=\"forgotForm\" \n          :model=\"forgotForm\" \n          :rules=\"rules\" \n          label-position=\"top\"\n          @keyup.enter=\"handleSubmit\"\n        >\n          <el-form-item label=\"电子邮箱\" prop=\"email\">\n            <el-input \n              v-model=\"forgotForm.email\" \n              type=\"email\" \n              placeholder=\"请输入您的邮箱地址\" \n              prefix-icon=\"Message\"\n              clearable\n            />\n          </el-form-item>\n          \n          <el-form-item>\n            <el-button \n              type=\"primary\" \n              class=\"submit-button\" \n              :loading=\"authStore.loading\"\n              @click=\"handleSubmit\"\n            >\n              发送重置链接\n            </el-button>\n          </el-form-item>\n        </el-form>\n        \n        <div class=\"back-link\">\n          <router-link to=\"/login\">\n            <el-icon><Back /></el-icon> 返回登录页\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '../stores/auth'\nimport { Sunny, Message, Back } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'ForgotPasswordPage',\n  components: {\n    Sunny,\n    Message,\n    Back\n  },\n  setup() {\n    const router = useRouter()\n    const authStore = useAuthStore()\n    const forgotForm = ref(null)\n    \n    const formData = reactive({\n      email: ''\n    })\n    \n    const rules = {\n      email: [\n        { required: true, message: '请输入电子邮箱', trigger: 'blur' },\n        { type: 'email', message: '请输入有效的电子邮箱地址', trigger: 'blur' }\n      ]\n    }\n    \n    const handleSubmit = async () => {\n      if (!forgotForm.value) return\n      \n      await forgotForm.value.validate(async (valid) => {\n        if (valid) {\n          try {\n            await authStore.forgotPassword(formData.email)\n            \n            // 成功发送重置邮件后提示用户\n            ElMessage.success('密码重置链接已发送到您的邮箱，请查收！')\n            \n            // 短暂延迟后跳转到登录页\n            setTimeout(() => {\n              router.push('/login')\n            }, 3001)\n          } catch (error) {\n            // 错误已在authStore中处理\n            console.error('发送重置邮件失败:', error)\n          }\n        } else {\n          ElMessage.warning('请正确填写电子邮箱')\n          return false\n        }\n      })\n    }\n    \n    return {\n      forgotForm,\n      forgotForm: formData,\n      rules,\n      authStore,\n      handleSubmit\n    }\n  }\n}\n</script>\n\n<style scoped>\n.forgot-container {\n  display: flex;\n  min-height: 100vh;\n  background-color: #f5f7fa;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n\n.forgot-card {\n  width: 100%;\n  max-width: 450px;\n  margin: auto;\n  padding: 40px;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);\n  z-index: 2;\n  position: relative;\n}\n\n.forgot-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.app-logo {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.logo-icon {\n  font-size: 48px;\n  color: #4caf50;\n  margin-bottom: 10px;\n}\n\n.app-logo h1 {\n  font-size: 28px;\n  color: #333;\n  margin: 0;\n  font-weight: 600;\n}\n\n.forgot-subtitle {\n  color: #666;\n  font-size: 16px;\n  margin: 0;\n}\n\n.forgot-form {\n  margin-top: 20px;\n}\n\n.instruction {\n  color: #666;\n  margin-bottom: 30px;\n  line-height: 1.6;\n}\n\n.submit-button {\n  width: 100%;\n  height: 44px;\n  font-size: 16px;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #4caf50, #2e7d32);\n  border: none;\n}\n\n.back-link {\n  text-align: center;\n  margin-top: 30px;\n}\n\n.back-link a {\n  display: inline-flex;\n  align-items: center;\n  color: #4caf50;\n  text-decoration: none;\n  font-size: 14px;\n}\n\n.back-link a:hover {\n  text-decoration: underline;\n}\n\n.back-link .el-icon {\n  margin-right: 5px;\n}\n\n.forgot-decoration {\n  position: fixed;\n  top: -20px;\n  right: -20px;\n  width: 50%;\n  max-width: 700px;\n  opacity: 0.5;\n  z-index: 1;\n}\n\n.forgot-decoration img {\n  width: 100%;\n  height: auto;\n}\n\n@media (max-width: 768px) {\n  .forgot-card {\n    max-width: 100%;\n    border-radius: 0;\n    box-shadow: none;\n    padding: 30px 20px;\n  }\n  \n  .forgot-decoration {\n    display: none;\n  }\n}\n</style> ","import { render } from \"./ForgotPassword.vue?vue&type=template&id=cbf44a5e&scoped=true\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js\"\n\nimport \"./ForgotPassword.vue?vue&type=style&index=0&id=cbf44a5e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cbf44a5e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_el_icon","default","_withCtx","_component_Sunny","_","_hoisted_5","_component_el_form","ref","model","$setup","forgotForm","rules","onKeyup","_withKeys","handleSubmit","_component_el_form_item","label","prop","_component_el_input","modelValue","email","_cache","$event","type","placeholder","clearable","_component_el_button","loading","authStore","onClick","_createTextVNode","__","_hoisted_6","_component_router_link","to","_component_Back","name","components","Sunny","Message","Back","setup","router","useRouter","useAuthStore","formData","reactive","required","message","trigger","async","value","validate","valid","ElMessage","warning","forgotPassword","success","setTimeout","push","error","console","__exports__","render"],"sourceRoot":""}