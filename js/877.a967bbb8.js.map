{"version":3,"file":"js/877.a967bbb8.js","mappings":"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","sources":["webpack://zhiyuxinsheng/./src/views/Register.vue","webpack://zhiyuxinsheng/./src/views/Register.vue?157d"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div class=\"register-card\">\n      <div class=\"register-header\">\n        <div class=\"app-logo\">\n          <el-icon class=\"logo-icon\"><Sunny /></el-icon>\n          <h1>植物日记</h1>\n        </div>\n        <p class=\"register-subtitle\">创建您的新账号</p>\n      </div>\n\n      <div class=\"register-form\">\n        <el-form\n          ref=\"formRef\"\n          :model=\"registerForm\"\n          :rules=\"rules\"\n          label-position=\"top\"\n          @keyup.enter=\"handleRegister\"\n        >\n          <el-form-item label=\"用户名\" prop=\"username\">\n            <el-input\n              v-model=\"registerForm.username\"\n              placeholder=\"请输入用户名\"\n              prefix-icon=\"User\"\n              clearable\n            />\n          </el-form-item>\n\n          <el-form-item label=\"电子邮箱\" prop=\"email\">\n            <el-input\n              v-model=\"registerForm.email\"\n              type=\"email\"\n              placeholder=\"请输入电子邮箱\"\n              prefix-icon=\"Message\"\n              clearable\n            />\n          </el-form-item>\n\n          <el-form-item label=\"密码\" prop=\"password\">\n            <el-input\n              v-model=\"registerForm.password\"\n              type=\"password\"\n              placeholder=\"请输入密码\"\n              prefix-icon=\"Lock\"\n              show-password\n              clearable\n            />\n          </el-form-item>\n\n          <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n            <el-input\n              v-model=\"registerForm.confirmPassword\"\n              type=\"password\"\n              placeholder=\"请再次输入密码\"\n              prefix-icon=\"Lock\"\n              show-password\n              clearable\n            />\n          </el-form-item>\n\n\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              class=\"submit-button\"\n              :loading=\"authStore.loading\"\n              @click=\"handleRegister\"\n            >\n              注册\n            </el-button>\n          </el-form-item>\n        </el-form>\n\n        <div class=\"login-link\">\n          已有账号？\n          <router-link to=\"/login\" class=\"login-text\"> 立即登录 </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '../stores/auth'\nimport { Sunny, User, Message, Lock } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'RegisterPage',\n  components: {\n    Sunny,\n    User,\n    Message,\n    Lock\n  },\n  setup() {\n    const router = useRouter()\n    const authStore = useAuthStore()\n\n    // 表单引用（用于调用 validate）\n    const formRef = ref(null)\n\n    // 表单数据模型\n    const registerForm = reactive({\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      agreement: false\n    })\n\n    // 验证两次密码是否一致\n    const validatePass2 = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'))\n      } else if (value !== registerForm.password) {\n        callback(new Error('两次输入密码不一致'))\n      } else {\n        callback()\n      }\n    }\n\n    // 验证协议是否勾选\n    const validateAgreement = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error('请阅读并同意服务条款和隐私政策'))\n      } else {\n        callback()\n      }\n    }\n\n    // 表单验证规则\n    const rules = {\n      username: [\n        { required: true, message: '请输入用户名', trigger: 'blur' },\n        { min: 3, max: 20, message: '用户名长度应在3到20个字符之间', trigger: 'blur' }\n      ],\n      email: [\n        { required: true, message: '请输入电子邮箱', trigger: 'blur' },\n        { type: 'email', message: '请输入有效的电子邮箱地址', trigger: 'blur' }\n      ],\n      password: [\n        { required: true, message: '请输入密码', trigger: 'blur' },\n        { min: 6, message: '密码长度至少为6个字符', trigger: 'blur' }\n      ],\n      confirmPassword: [\n        { required: true, validator: validatePass2, trigger: 'blur' }\n      ],\n      agreement: [\n        { validator: validateAgreement, trigger: 'change' }\n      ]\n    }\n\n    // 提交注册逻辑\n    const handleRegister = async () => {\n      if (!formRef.value) return\n\n      await formRef.value.validate(async (valid) => {\n        if (valid) {\n          try {\n            await authStore.register({\n              username: registerForm.username,\n              email: registerForm.email,\n              password: registerForm.password\n            })\n\n            ElMessage.success('注册成功！即将为您跳转到登录页面。')\n\n            setTimeout(() => {\n              router.push('/login')\n            }, 2000)\n          } catch (error) {\n            console.error('注册失败:', error)\n          }\n        } else {\n          ElMessage.warning('请完成所有必填项并正确填写')\n          return false\n        }\n      })\n    }\n\n    return {\n      formRef,\n      registerForm,\n      rules,\n      authStore,\n      handleRegister\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  display: flex;\n  min-height: 100vh;\n  background-color: #f5f7fa;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.register-card {\n  width: 100%;\n  max-width: 450px;\n  margin: auto;\n  padding: 40px;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);\n  z-index: 2;\n  position: relative;\n}\n\n.register-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.app-logo {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.logo-icon {\n  font-size: 48px;\n  color: #4caf50;\n  margin-bottom: 10px;\n}\n\n.app-logo h1 {\n  font-size: 28px;\n  color: #333;\n  margin: 0;\n  font-weight: 600;\n}\n\n.register-subtitle {\n  color: #666;\n  font-size: 16px;\n  margin: 0;\n}\n\n.register-form {\n  margin-top: 20px;\n}\n\n.submit-button {\n  width: 100%;\n  height: 44px;\n  font-size: 16px;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #4caf50, #2e7d32);\n  border: none;\n}\n\n\n.terms-link:hover {\n  text-decoration: underline;\n}\n\n.login-link {\n  text-align: center;\n  margin-top: 30px;\n  color: #666;\n  font-size: 14px;\n}\n\n.login-text {\n  color: #4caf50;\n  text-decoration: none;\n  font-weight: 600;\n}\n\n.login-text:hover {\n  text-decoration: underline;\n}\n</style>","import { render } from \"./Register.vue?vue&type=template&id=e11724f2&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=e11724f2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e11724f2\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_el_icon","default","_withCtx","_component_Sunny","_","_hoisted_5","_component_el_form","ref","model","$setup","registerForm","rules","onKeyup","_withKeys","handleRegister","_component_el_form_item","label","prop","_component_el_input","modelValue","username","_cache","$event","placeholder","clearable","email","type","password","confirmPassword","_component_el_button","loading","authStore","onClick","_createTextVNode","__","_hoisted_6","_component_router_link","to","name","components","Sunny","User","Message","Lock","setup","router","useRouter","useAuthStore","formRef","reactive","agreement","validatePass2","rule","value","callback","Error","validateAgreement","required","message","trigger","min","max","validator","async","validate","valid","ElMessage","warning","register","success","setTimeout","push","error","console","__exports__","render"],"sourceRoot":""}