"use strict";(self["webpackChunkzhiyuxinsheng"]=self["webpackChunkzhiyuxinsheng"]||[]).push([[877],{3877:function(e,r,l){l.r(r),l.d(r,{default:function(){return h}});var s=l(6768),a=l(5130);const o={class:"register-container"},i={class:"register-card"},n={class:"register-header"},t={class:"app-logo"},u={class:"register-form"},d={class:"login-link"};function m(e,r,l,m,g,c){const p=(0,s.g2)("Sunny"),b=(0,s.g2)("el-icon"),f=(0,s.g2)("el-input"),k=(0,s.g2)("el-form-item"),w=(0,s.g2)("el-button"),F=(0,s.g2)("el-form"),h=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",i,[(0,s.Lk)("div",n,[(0,s.Lk)("div",t,[(0,s.bF)(b,{class:"logo-icon"},{default:(0,s.k6)((()=>[(0,s.bF)(p)])),_:1}),r[4]||(r[4]=(0,s.Lk)("h1",null,"植物日记",-1))]),r[5]||(r[5]=(0,s.Lk)("p",{class:"register-subtitle"},"创建您的新账号",-1))]),(0,s.Lk)("div",u,[(0,s.bF)(F,{ref:"formRef",model:m.registerForm,rules:m.rules,"label-position":"top",onKeyup:(0,a.jR)(m.handleRegister,["enter"])},{default:(0,s.k6)((()=>[(0,s.bF)(k,{label:"用户名",prop:"username"},{default:(0,s.k6)((()=>[(0,s.bF)(f,{modelValue:m.registerForm.username,"onUpdate:modelValue":r[0]||(r[0]=e=>m.registerForm.username=e),placeholder:"请输入用户名","prefix-icon":"User",clearable:""},null,8,["modelValue"])])),_:1}),(0,s.bF)(k,{label:"电子邮箱",prop:"email"},{default:(0,s.k6)((()=>[(0,s.bF)(f,{modelValue:m.registerForm.email,"onUpdate:modelValue":r[1]||(r[1]=e=>m.registerForm.email=e),type:"email",placeholder:"请输入电子邮箱","prefix-icon":"Message",clearable:""},null,8,["modelValue"])])),_:1}),(0,s.bF)(k,{label:"密码",prop:"password"},{default:(0,s.k6)((()=>[(0,s.bF)(f,{modelValue:m.registerForm.password,"onUpdate:modelValue":r[2]||(r[2]=e=>m.registerForm.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,s.bF)(k,{label:"确认密码",prop:"confirmPassword"},{default:(0,s.k6)((()=>[(0,s.bF)(f,{modelValue:m.registerForm.confirmPassword,"onUpdate:modelValue":r[3]||(r[3]=e=>m.registerForm.confirmPassword=e),type:"password",placeholder:"请再次输入密码","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,s.bF)(k,null,{default:(0,s.k6)((()=>[(0,s.bF)(w,{type:"primary",class:"submit-button",loading:m.authStore.loading,onClick:m.handleRegister},{default:(0,s.k6)((()=>r[6]||(r[6]=[(0,s.eW)(" 注册 ")]))),_:1,__:[6]},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules","onKeyup"]),(0,s.Lk)("div",d,[r[8]||(r[8]=(0,s.eW)(" 已有账号？ ")),(0,s.bF)(h,{to:"/login",class:"login-text"},{default:(0,s.k6)((()=>r[7]||(r[7]=[(0,s.eW)(" 立即登录 ")]))),_:1,__:[7]})])])])])}l(4114);var g=l(144),c=l(1387),p=l(14),b=l(7477),f=l(1219),k={name:"RegisterPage",components:{Sunny:b.Sunny,User:b.User,Message:b.Message,Lock:b.Lock},setup(){const e=(0,c.rd)(),r=(0,p.n)(),l=(0,g.KR)(null),s=(0,g.Kh)({username:"",email:"",password:"",confirmPassword:""}),a=(e,r,l)=>{""===r?l(new Error("请再次输入密码")):r!==s.password?l(new Error("两次输入密码不一致")):l()},o={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应在3到20个字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{type:"email",message:"请输入有效的电子邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6个字符",trigger:"blur"}],confirmPassword:[{required:!0,validator:a,trigger:"blur"}]},i=async()=>{l.value&&await l.value.validate((async l=>{if(!l)return f.nk.warning("请完成所有必填项并正确填写"),!1;try{await r.register({username:s.username,email:s.email,password:s.password}),f.nk.success("注册成功！即将为您跳转到登录页面。"),setTimeout((()=>{e.push("/login")}),2e3)}catch(a){console.error("注册失败:",a)}}))};return{formRef:l,registerForm:s,rules:o,authStore:r,handleRegister:i}}},w=l(1241);const F=(0,w.A)(k,[["render",m],["__scopeId","data-v-0047cc32"]]);var h=F}}]);
//# sourceMappingURL=877.515c399b.js.map