"use strict";(self["webpackChunkzhiyuxinsheng"]=self["webpackChunkzhiyuxinsheng"]||[]).push([[338],{9338:function(e,o,l){l.r(o),l.d(o,{default:function(){return y}});var a=l(6768),t=l(5130);const r={class:"forgot-container"},n={class:"forgot-card"},s={class:"forgot-header"},u={class:"app-logo"},i={class:"forgot-form"},c={class:"back-link"};function g(e,o,l,g,d,m){const f=(0,a.g2)("Sunny"),k=(0,a.g2)("el-icon"),b=(0,a.g2)("el-input"),p=(0,a.g2)("el-form-item"),h=(0,a.g2)("el-button"),F=(0,a.g2)("el-form"),y=(0,a.g2)("Back"),v=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",n,[(0,a.Lk)("div",s,[(0,a.Lk)("div",u,[(0,a.bF)(k,{class:"logo-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1}),o[1]||(o[1]=(0,a.Lk)("h1",null,"植物日记",-1))]),o[2]||(o[2]=(0,a.Lk)("p",{class:"forgot-subtitle"},"找回密码",-1))]),(0,a.Lk)("div",i,[o[5]||(o[5]=(0,a.Lk)("p",{class:"instruction"},"请输入您注册时使用的电子邮箱地址，我们将向您发送密码重置链接。",-1)),(0,a.bF)(F,{ref:"forgotForm",model:g.forgotForm,rules:g.rules,"label-position":"top",onKeyup:(0,t.jR)(g.handleSubmit,["enter"])},{default:(0,a.k6)((()=>[(0,a.bF)(p,{label:"电子邮箱",prop:"email"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:g.forgotForm.email,"onUpdate:modelValue":o[0]||(o[0]=e=>g.forgotForm.email=e),type:"email",placeholder:"请输入您的邮箱地址","prefix-icon":"Message",clearable:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{type:"primary",class:"submit-button",loading:g.authStore.loading,onClick:g.handleSubmit},{default:(0,a.k6)((()=>o[3]||(o[3]=[(0,a.eW)(" 发送重置链接 ")]))),_:1,__:[3]},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules","onKeyup"]),(0,a.Lk)("div",c,[(0,a.bF)(v,{to:"/login"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(y)])),_:1}),o[4]||(o[4]=(0,a.eW)(" 返回登录页 "))])),_:1,__:[4]})])])])])}l(4114);var d=l(144),m=l(1387),f=l(14),k=l(7477),b=l(1219),p={name:"ForgotPasswordPage",components:{Sunny:k.Sunny,Message:k.Message,Back:k.Back},setup(){const e=(0,m.rd)(),o=(0,f.n)(),l=(0,d.KR)(null),a=(0,d.Kh)({email:""}),t={email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{type:"email",message:"请输入有效的电子邮箱地址",trigger:"blur"}]},r=async()=>{l.value&&await l.value.validate((async l=>{if(!l)return b.nk.warning("请正确填写电子邮箱"),!1;try{await o.forgotPassword(a.email),b.nk.success("密码重置链接已发送到您的邮箱，请查收！"),setTimeout((()=>{e.push("/login")}),3001)}catch(t){console.error("发送重置邮件失败:",t)}}))};return{forgotForm:l,forgotForm:a,rules:t,authStore:o,handleSubmit:r}}},h=l(1241);const F=(0,h.A)(p,[["render",g],["__scopeId","data-v-cbf44a5e"]]);var y=F}}]);
//# sourceMappingURL=338.17b44d32.js.map