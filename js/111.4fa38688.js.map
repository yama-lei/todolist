{"version":3,"file":"js/111.4fa38688.js","mappings":"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","sources":["webpack://zhiyuxinsheng/./src/stores/task.js","webpack://zhiyuxinsheng/./src/views/Task.vue","webpack://zhiyuxinsheng/./node_modules/date-fns/parseISO.js","webpack://zhiyuxinsheng/./src/views/Task.vue?5a2d"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport { usePlantStore } from './plant'\nimport { taskApi } from '../services/api'\nimport { ElMessage } from 'element-plus'\n\nexport const useTaskStore = defineStore('task', () => {\n  // æ‰€æœ‰ä»»åŠ¡æ•°æ®\n  const tasks = ref([])\n  const systemTasks = ref([])\n  const completedTasks = ref([])\n  const loading = ref(false)\n  \n  // è®¡ç®—å±æ€§ï¼šå¾…å®Œæˆä»»åŠ¡\n  const pendingTasks = computed(() => tasks.value.filter(task => !task.completed))\n  \n  // è·å–æ‰€æœ‰ä»»åŠ¡\n  const fetchTasks = async () => {\n    try {\n      loading.value = true\n      const response = await taskApi.getTasks()\n      tasks.value = response.tasks.filter(task => !task.completed)\n      completedTasks.value = response.tasks.filter(task => task.completed)\n    } catch (error) {\n      ElMessage.error('è·å–ä»»åŠ¡åˆ—è¡¨å¤±è´¥')\n    } finally {\n      loading.value = false\n    }\n  }\n  \n  // è·å–ç³»ç»Ÿä»»åŠ¡\n  const fetchSystemTasks = async () => {\n    try {\n      loading.value = true\n      const response = await taskApi.getSystemTasks()\n      systemTasks.value = response.tasks\n    } catch (error) {\n      ElMessage.error('è·å–ç³»ç»Ÿä»»åŠ¡å¤±è´¥')\n    } finally {\n      loading.value = false\n    }\n  }\n  \n  // æ·»åŠ ä»»åŠ¡\n  const addTask = async (task) => {\n    try {\n      // ç¡®ä¿importantæ˜¯å¸ƒå°”ç±»å‹\n      const importantBool = task.important === true || task.important === 'true'\n      \n      const response = await taskApi.createTask({\n        title: task.title,\n        description: task.description || '',\n        deadline: task.deadline || '',\n        important: importantBool\n      })\n      \n      // æ·»åŠ åˆ°æœ¬åœ°çŠ¶æ€\n      tasks.value.push(response.task)\n      \n      // ä¸å†ç»™åˆ›å»ºä»»åŠ¡å¢åŠ ç»éªŒå€¼\n      ElMessage.success('ä»»åŠ¡åˆ›å»ºæˆåŠŸ')\n    } catch (error) {\n      ElMessage.error('åˆ›å»ºä»»åŠ¡å¤±è´¥')\n    }\n  }\n  \n  // å®Œæˆä»»åŠ¡\n  const completeTask = async (id) => {\n    try {\n      const response = await taskApi.completeTask(id)\n      \n      // ä»ä»»åŠ¡åˆ—è¡¨ä¸­ç§»é™¤\n      const task = tasks.value.find(t => t._id === id)\n      if (task) {\n        // å°†ä»»åŠ¡ç§»åŠ¨åˆ°å·²å®Œæˆåˆ—è¡¨\n        completedTasks.value.unshift({\n          ...task,\n          completed: true,\n          completedAt: new Date().toISOString()\n        })\n        // ä»å¾…åŠä»»åŠ¡ä¸­ç§»é™¤\n        tasks.value = tasks.value.filter(t => t._id !== id)\n      }\n      \n      // å¢åŠ æ¤ç‰©ç»éªŒå€¼\n      const plantStore = usePlantStore()\n      if (plantStore.plants && plantStore.plants.length > 0) {\n        // è·å–ä¸»æ¤ç‰©\n        const mainPlant = plantStore.plants.find(p => p.isMainPlant)\n        if (mainPlant) {\n          const plantId = mainPlant._id || mainPlant.id\n          if (plantId) {\n            // æ ¹æ®ä»»åŠ¡æ˜¯å¦é‡è¦ï¼Œå¢åŠ ä¸åŒçš„ç»éªŒå€¼\n            // æ™®é€šä»»åŠ¡25ç‚¹ï¼Œé‡è¦ä»»åŠ¡50ç‚¹\n            const expAmount = task && task.important ? 50 : 25;\n            await plantStore.gainExperience(plantId, expAmount)\n            \n            // æ˜¾ç¤ºå…·ä½“è·å¾—çš„ç»éªŒå€¼\n            ElMessage.success(`ä»»åŠ¡å·²å®Œæˆï¼Œè·å¾— ${expAmount} ç‚¹ç»éªŒå€¼ï¼`)\n          }\n        }\n      } else {\n        ElMessage.success('ä»»åŠ¡å·²å®Œæˆ')\n      }\n    } catch (error) {\n      ElMessage.error('å®Œæˆä»»åŠ¡å¤±è´¥')\n    }\n  }\n  \n  // å®Œæˆç³»ç»Ÿä»»åŠ¡\n  const completeSystemTask = async (id) => {\n    try {\n      const plantStore = usePlantStore()\n      if (!plantStore.currentPlant) {\n        ElMessage.warning('è¯·å…ˆæ·»åŠ ä¸€ä¸ªæ¤ç‰©')\n        return false\n      }\n      \n      const response = await taskApi.completeSystemTask(id)\n      \n      // æ›´æ–°ä»»åŠ¡çŠ¶æ€\n      const index = systemTasks.value.findIndex(t => t._id === id)\n      if (index !== -1) {\n        systemTasks.value[index].completed = true\n      }\n      \n      // å¦‚æœåç«¯å·²ç»å¤„ç†äº†ç»éªŒå€¼å¥–åŠ±ï¼Œåˆ™æ˜¾ç¤ºç›¸åº”çš„æç¤º\n      if (response.rewards) {\n        ElMessage.success(`å®Œæˆä»»åŠ¡è·å¾— ${response.rewards.experience} ç‚¹ç»éªŒ`)\n      } \n      // å¦‚æœåç«¯æ²¡æœ‰å¤„ç†ç»éªŒå€¼å¥–åŠ±ï¼Œåˆ™åœ¨å‰ç«¯å¤„ç†\n      else {\n        // è·å–ä¸»æ¤ç‰©\n        const plantId = plantStore.currentPlant._id || plantStore.currentPlant.id\n        if (plantId) {\n          // ç³»ç»Ÿä»»åŠ¡å›ºå®šå¢åŠ 35ç‚¹ç»éªŒå€¼\n          const expAmount = 35;\n          await plantStore.gainExperience(plantId, expAmount)\n          ElMessage.success(`å®Œæˆç³»ç»Ÿä»»åŠ¡è·å¾— ${expAmount} ç‚¹ç»éªŒå€¼`)\n        }\n      }\n      \n      return true\n    } catch (error) {\n      if (error.response?.status === 400) {\n        ElMessage.warning('ä»Šå¤©å·²ç»å®Œæˆè¿‡æ­¤ä»»åŠ¡')\n      } else {\n        ElMessage.error('å®Œæˆç³»ç»Ÿä»»åŠ¡å¤±è´¥')\n      }\n      return false\n    }\n  }\n  \n  // ç§»é™¤ä»»åŠ¡\n  const removeTask = async (id) => {\n    try {\n      // æ£€æŸ¥IDæ˜¯å¦æœ‰æ•ˆ\n      if (!id) {\n        ElMessage.error('ä»»åŠ¡IDæ— æ•ˆï¼Œæ— æ³•åˆ é™¤')\n        return\n      }\n      \n      await taskApi.deleteTask(id)\n      tasks.value = tasks.value.filter(task => task._id !== id)\n      ElMessage.success('ä»»åŠ¡å·²åˆ é™¤')\n    } catch (error) {\n      console.error('åˆ é™¤ä»»åŠ¡å¤±è´¥:', error)\n      ElMessage.error('åˆ é™¤ä»»åŠ¡å¤±è´¥')\n    }\n  }\n  \n  // åˆ é™¤å·²å®Œæˆä»»åŠ¡\n  const removeCompletedTask = async (id) => {\n    try {\n      // æ£€æŸ¥IDæ˜¯å¦æœ‰æ•ˆ\n      if (!id) {\n        ElMessage.error('ä»»åŠ¡IDæ— æ•ˆï¼Œæ— æ³•åˆ é™¤')\n        return\n      }\n      \n      await taskApi.deleteTask(id)\n      completedTasks.value = completedTasks.value.filter(task => task._id !== id)\n      ElMessage.success('ä»»åŠ¡å·²åˆ é™¤')\n    } catch (error) {\n      console.error('åˆ é™¤ä»»åŠ¡å¤±è´¥:', error)\n      ElMessage.error('åˆ é™¤ä»»åŠ¡å¤±è´¥')\n    }\n  }\n  \n  // æ›´æ–°ä»»åŠ¡\n  const updateTask = async (updatedTask) => {\n    try {\n      const { _id, title, description, deadline, important } = updatedTask\n      \n      // ç¡®ä¿importantæ˜¯å¸ƒå°”ç±»å‹\n      const importantBool = important === true || important === 'true'\n      \n      // ä¿å­˜æ›´æ–°å‰çš„ä»»åŠ¡çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨è¯·æ±‚å¤±è´¥æ—¶æ¢å¤\n      const originalTaskIndex = tasks.value.findIndex(t => t._id === _id)\n      const originalTask = originalTaskIndex !== -1 ? { ...tasks.value[originalTaskIndex] } : null\n      \n      // å…ˆæ›´æ–°æœ¬åœ°çŠ¶æ€ï¼Œè®©UIç«‹å³å“åº”\n      if (originalTaskIndex !== -1) {\n        tasks.value[originalTaskIndex] = { \n          ...tasks.value[originalTaskIndex],\n          title,\n          description,\n          deadline,\n          important: importantBool\n        }\n      }\n      \n      // ç„¶åå‘é€è¯·æ±‚æ›´æ–°æœåŠ¡å™¨çŠ¶æ€\n      const response = await taskApi.updateTask(_id, {\n        title,\n        description,\n        deadline,\n        important: importantBool\n      })\n      \n      // å¦‚æœæœåŠ¡å™¨å“åº”æˆåŠŸï¼Œä½¿ç”¨æœåŠ¡å™¨è¿”å›çš„æ•°æ®æ›´æ–°æœ¬åœ°çŠ¶æ€\n      if (response && response.task) {\n        const finalIndex = tasks.value.findIndex(t => t._id === _id)\n        if (finalIndex !== -1) {\n          tasks.value[finalIndex] = response.task\n        }\n      }\n      \n      ElMessage.success('ä»»åŠ¡å·²æ›´æ–°')\n    } catch (error) {\n      console.error('æ›´æ–°ä»»åŠ¡å¤±è´¥:', error)\n      \n      // å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œæ¢å¤åŸå§‹çŠ¶æ€\n      const failedIndex = tasks.value.findIndex(t => t._id === updatedTask._id)\n      if (failedIndex !== -1 && originalTask) {\n        tasks.value[failedIndex] = originalTask\n      }\n      \n      ElMessage.error('æ›´æ–°ä»»åŠ¡å¤±è´¥')\n    }\n  }\n  \n  // åˆ‡æ¢ä»»åŠ¡é‡è¦æ€§\n  const toggleTaskImportance = async (id) => {\n    const task = tasks.value.find(t => t._id === id)\n    if (task) {\n      try {\n        // å…ˆä¸´æ—¶æ›´æ–°æœ¬åœ°çŠ¶æ€ï¼Œè®©UIç«‹å³å“åº”\n        console.log('åˆ‡æ¢ä»»åŠ¡é‡è¦æ€§ - å½“å‰çŠ¶æ€:', task.important, 'ç±»å‹:', typeof task.important)\n        \n        // å°†å­—ç¬¦ä¸²ç±»å‹çš„importantè½¬æ¢ä¸ºå¸ƒå°”ç±»å‹\n        const currentImportant = task.important === true || task.important === 'true'\n        const newImportantState = !currentImportant\n        console.log('åˆ‡æ¢ä»»åŠ¡é‡è¦æ€§ - æ–°çŠ¶æ€:', newImportantState)\n        \n        const taskIndex = tasks.value.findIndex(t => t._id === id)\n        if (taskIndex !== -1) {\n          // åˆ›å»ºä¸€ä¸ªä»»åŠ¡çš„å‰¯æœ¬å¹¶ä¿®æ”¹å…¶é‡è¦æ€§\n          const updatedTask = { ...tasks.value[taskIndex], important: newImportantState }\n          tasks.value[taskIndex] = updatedTask\n        }\n        \n        // ç„¶åå‘é€è¯·æ±‚æ›´æ–°æœåŠ¡å™¨çŠ¶æ€\n        const response = await taskApi.updateTask(id, {\n          title: task.title,\n          description: task.description,\n          deadline: task.deadline,\n          important: newImportantState\n        })\n        \n        // å¦‚æœæœåŠ¡å™¨å“åº”æˆåŠŸï¼Œä½¿ç”¨æœåŠ¡å™¨è¿”å›çš„æ•°æ®æ›´æ–°æœ¬åœ°çŠ¶æ€\n        if (response && response.task) {\n          const finalIndex = tasks.value.findIndex(t => t._id === id)\n          if (finalIndex !== -1) {\n            tasks.value[finalIndex] = response.task\n          }\n        }\n        \n        ElMessage.success(`ä»»åŠ¡å·²${newImportantState ? 'æ ‡è®°ä¸ºé‡è¦' : 'å–æ¶ˆé‡è¦æ ‡è®°'}`)\n      } catch (error) {\n        console.error('æ›´æ–°ä»»åŠ¡é‡è¦æ€§å¤±è´¥:', error)\n        // å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œæ¢å¤åŸå§‹çŠ¶æ€\n        const failedIndex = tasks.value.findIndex(t => t._id === id)\n        if (failedIndex !== -1) {\n          // æ¢å¤åŸå§‹çŠ¶æ€ï¼Œæ³¨æ„ä¿æŒåŸæ¥çš„ç±»å‹\n          tasks.value[failedIndex] = { ...tasks.value[failedIndex], important: task.important }\n        }\n        ElMessage.error('æ›´æ–°ä»»åŠ¡é‡è¦æ€§å¤±è´¥')\n      }\n    }\n  }\n\n  // é‡æ–°æ’åºä»»åŠ¡\n  const reorderTasks = (newOrder) => {\n    if (!newOrder || !Array.isArray(newOrder)) return;\n    \n    // ç¡®ä¿ä»»åŠ¡çš„importantå­—æ®µæ˜¯æ­£ç¡®å¤„ç†çš„\n    const processedOrder = newOrder.map(task => {\n      // å¤„ç†importantå­—æ®µç±»å‹\n      const importantBool = task.important === true || task.important === 'true';\n      return {\n        ...task,\n        important: importantBool\n      }\n    });\n    \n    // æ›´æ–°ä»»åŠ¡é¡ºåº\n    tasks.value = processedOrder;\n  }\n\n  return {\n    tasks,\n    systemTasks,\n    completedTasks,\n    pendingTasks,\n    loading,\n    \n    fetchTasks,\n    fetchSystemTasks,\n    addTask,\n    completeTask,\n    completeSystemTask,\n    removeTask,\n    removeCompletedTask,\n    updateTask,\n    toggleTaskImportance,\n    reorderTasks\n  }\n}) ","<template>\n  <div class=\"task-page\">\n    <div class=\"container\">\n      <div class=\"task-header\">\n        <h1 class=\"section-title\">ä»»åŠ¡ç®¡ç†</h1>\n        <div class=\"task-actions\">\n          <button class=\"add-task-button\" @click=\"openTaskForm\">\n            <el-icon><Plus /></el-icon>\n            <span>æ–°å»ºä»»åŠ¡</span>\n          </button>\n        </div>\n      </div>\n      \n      <!-- ç³»ç»Ÿä»»åŠ¡ -->\n      <div class=\"system-tasks-card card\">\n        <div class=\"card-header\">\n          <h2 class=\"section-title\">æ¯æ—¥ä»»åŠ¡</h2>\n          <div class=\"task-info\">\n            <el-tag type=\"success\" size=\"small\" effect=\"plain\">\n              <el-icon><Trophy /></el-icon>\n              å®Œæˆä»»åŠ¡å¯è·å¾—ç»éªŒå€¼ï¼Œå¸®åŠ©æ¤ç‰©æˆé•¿\n            </el-tag>\n          </div>\n        </div>\n        \n        <div class=\"tasks-list system-tasks\">\n          <div\n            v-for=\"task in taskStore.systemTasks\"\n            :key=\"task._id\"\n            class=\"task-item\"\n            :class=\"{ 'completed': task.completed }\"\n          >\n            <div class=\"task-left\">\n              <div class=\"task-icon\">{{ task.icon || 'ğŸ¯' }}</div>\n              <div class=\"task-content\">\n                <div class=\"task-title\">{{ task.title }}</div>\n                <div class=\"task-description\">{{ task.description }}</div>\n                <div class=\"task-meta\" v-if=\"task.completed\">\n                  <span class=\"completed-at\">\n                    <el-icon><Check /></el-icon>\n                    å®Œæˆäº {{ formatDate(task.completedAt) }}\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div class=\"task-actions\">\n              <el-button\n                :type=\"task.completed ? 'success' : 'primary'\"\n                :icon=\"task.completed ? 'Check' : ''\"\n                :disabled=\"task.completed\"\n                class=\"complete-button\"\n                @click=\"completeSystemTask(task._id)\"\n              >\n                {{ task.completed ? 'å·²å®Œæˆ' : 'å®Œæˆä»»åŠ¡' }}\n              </el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- ç”¨æˆ·ä»»åŠ¡ -->\n      <div class=\"user-tasks-card card\">\n        <div class=\"card-header\">\n          <h2 class=\"section-title\">æˆ‘çš„ä»»åŠ¡</h2>\n          <div class=\"task-status\">\n            <el-tag type=\"primary\" size=\"small\" effect=\"dark\" class=\"task-count-tag\">\n              {{ taskStore.pendingTasks.length }} ä¸ªå¾…å®Œæˆ\n            </el-tag>\n          </div>\n        </div>\n        \n        <div v-if=\"taskStore.pendingTasks.length === 0\" class=\"empty-tasks\">\n          <el-empty description=\"æš‚æ— ä»»åŠ¡ï¼Œç‚¹å‡»å³ä¸Šè§’æ·»åŠ æ–°ä»»åŠ¡å§ï¼\" />\n        </div>\n        \n        <div v-else class=\"tasks-list user-tasks\">\n          <div\n            v-for=\"task in taskStore.pendingTasks\"\n            :key=\"task._id\"\n            class=\"task-item\"\n            :class=\"{ 'important': task.important }\"\n          >\n            <div class=\"task-left\">\n              <div class=\"task-checkbox\">\n                <el-checkbox @change=\"() => completeUserTask(task._id)\"></el-checkbox>\n              </div>\n              <div class=\"task-content\">\n                <div class=\"task-title-row\">\n                  <div class=\"task-title\">{{ task.title }}</div>\n                  <div class=\"star-icon\" v-if=\"task.important\">\n                    <el-icon color=\"#F7BA2A\" :size=\"20\"><Star filled /></el-icon>\n                  </div>\n                </div>\n                <div class=\"task-description\">{{ task.description }}</div>\n                <div class=\"task-meta\">\n                  <span v-if=\"task.deadline\" class=\"task-deadline\">\n                    <el-tag type=\"info\" size=\"small\">\n                      <el-icon><Clock /></el-icon>\n                      {{ formatDate(task.deadline) }}\n                    </el-tag>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div class=\"task-actions\">\n              <el-button type=\"primary\" text size=\"small\" @click=\"editTask(task)\">\n                <el-icon><Edit /></el-icon>\n                ç¼–è¾‘\n              </el-button>\n              <el-button type=\"danger\" text size=\"small\" @click=\"deleteTask(task._id)\">\n                <el-icon><Delete /></el-icon>\n                åˆ é™¤\n              </el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- å·²å®Œæˆä»»åŠ¡ -->\n      <div class=\"completed-tasks-card card\" v-if=\"taskStore.completedTasks.length > 0\">\n        <div class=\"card-header\">\n          <h2 class=\"section-title\">å·²å®Œæˆä»»åŠ¡</h2>\n          <div class=\"completed-count\">\n            <el-tag type=\"success\" size=\"small\" effect=\"dark\" class=\"task-count-tag\">\n              {{ taskStore.completedTasks.length }} ä¸ªä»»åŠ¡\n            </el-tag>\n          </div>\n        </div>\n        \n        <div class=\"tasks-list completed-tasks\">\n          <div\n            v-for=\"task in taskStore.completedTasks\"\n            :key=\"task._id\"\n            class=\"task-item completed\"\n          >\n            <div class=\"task-left\">\n              <div class=\"task-checkbox\">\n                <el-checkbox :modelValue=\"true\" disabled></el-checkbox>\n              </div>\n              <div class=\"task-content\">\n                <div class=\"task-title\">{{ task.title }}</div>\n                <div class=\"task-description\" v-if=\"task.description\">{{ task.description }}</div>\n                <div class=\"task-meta\">\n                  <span class=\"completed-at\">\n                    å®Œæˆäº {{ formatDate(task.completedAt) }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- ä»»åŠ¡è¡¨å•å¯¹è¯æ¡† -->\n    <el-dialog\n      v-model=\"showTaskForm\"\n      :title=\"editingTask ? 'ç¼–è¾‘ä»»åŠ¡' : 'æ–°å»ºä»»åŠ¡'\"\n      width=\"500px\"\n      custom-class=\"modern-dialog task-edit-dialog\"\n    >\n      <el-form :model=\"taskForm\" label-position=\"top\" class=\"modern-form\">\n        <el-form-item label=\"ä»»åŠ¡æ ‡é¢˜\" required class=\"form-item-animated\">\n          <el-input \n            v-model=\"taskForm.title\" \n            placeholder=\"è¾“å…¥ä»»åŠ¡æ ‡é¢˜\" \n            class=\"modern-input\"\n          />\n        </el-form-item>\n        \n        <el-form-item label=\"ä»»åŠ¡æè¿°\" class=\"form-item-animated\">\n          <el-input\n            v-model=\"taskForm.description\"\n            type=\"textarea\"\n            :rows=\"4\"\n            placeholder=\"è¾“å…¥ä»»åŠ¡æè¿°\"\n            class=\"modern-textarea\"\n          />\n        </el-form-item>\n        \n        <el-form-item label=\"æˆªæ­¢æ—¥æœŸ\" class=\"form-item-animated\">\n          <el-date-picker\n            v-model=\"taskForm.deadline\"\n            type=\"datetime\"\n            placeholder=\"é€‰æ‹©æˆªæ­¢æ—¥æœŸ\"\n            value-format=\"YYYY-MM-DDTHH:mm:ss\"\n            format=\"YYYY-MM-DD HH:mm\"\n            style=\"width: 100%\"\n            class=\"modern-date-picker\"\n          />\n        </el-form-item>\n        \n        <el-form-item class=\"form-item-animated importance-item\">\n          <div class=\"importance-toggle-container\">\n            <el-switch\n              v-model=\"taskForm.important\"\n              active-color=\"#F7BA2A\"\n              inactive-color=\"#DCDFE6\"\n              class=\"modern-switch\"\n            />\n            <div \n              class=\"importance-label\"\n              :class=\"{ 'active': taskForm.important }\"\n              @click=\"taskForm.important = !taskForm.important\"\n            >\n              <el-icon><Star /></el-icon>\n              <span>{{ taskForm.important ? 'é‡è¦ä»»åŠ¡' : 'æ™®é€šä»»åŠ¡' }}</span>\n            </div>\n          </div>\n        </el-form-item>\n      </el-form>\n      \n      <template #footer>\n        <div class=\"dialog-footer\">\n          <el-button @click=\"showTaskForm = false\" class=\"cancel-button\">å–æ¶ˆ</el-button>\n          <el-button type=\"primary\" @click=\"saveTask\" class=\"save-button\">\n            ä¿å­˜\n          </el-button>\n        </div>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted } from 'vue'\nimport { useTaskStore } from '../stores/task'\nimport { usePlantStore } from '../stores/plant'\nimport { ElMessageBox } from 'element-plus'\nimport { format, parseISO } from 'date-fns'\nimport { Plus, Clock, Check, Trophy, Edit, Delete, Star } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'TaskPage',\n  components: {\n    Plus,\n    Clock,\n    Check,\n    Trophy,\n    Edit,\n    Delete,\n    Star\n  },\n  setup() {\n    const taskStore = useTaskStore()\n    const plantStore = usePlantStore()\n    \n    const showTaskForm = ref(false)\n    const editingTask = ref(null)\n    \n    const taskForm = reactive({\n      id: null,\n      title: '',\n      description: '',\n      deadline: '',\n      important: false\n    })\n    \n    // è·å–ä»»åŠ¡æ•°æ®\n    onMounted(async () => {\n      console.log('ä»»åŠ¡é¡µé¢åŠ è½½')\n      // å¦‚æœæ¤ç‰©å•†åº—æ²¡æœ‰åŠ è½½ï¼Œè·å–æ¤ç‰©\n      if (!plantStore.currentPlant) {\n        await plantStore.fetchPlants()\n      }\n      \n      // è·å–ä»»åŠ¡å’Œç³»ç»Ÿä»»åŠ¡\n      try {\n      await Promise.all([\n        taskStore.fetchTasks(),\n        taskStore.fetchSystemTasks()\n      ])\n        console.log('ä»»åŠ¡æ•°æ®åŠ è½½æˆåŠŸ')\n      } catch (error) {\n        console.error('åŠ è½½ä»»åŠ¡æ•°æ®å¤±è´¥:', error)\n      }\n    })\n    \n    // æ‰“å¼€ä»»åŠ¡è¡¨å•\n    const openTaskForm = () => {\n      resetTaskForm()\n      showTaskForm.value = true\n    }\n    \n    // é‡ç½®è¡¨å•\n    const resetTaskForm = () => {\n      taskForm.id = null\n      taskForm.title = ''\n      taskForm.description = ''\n      taskForm.deadline = ''\n      taskForm.important = false\n      editingTask.value = null\n    }\n    \n    // å®Œæˆç³»ç»Ÿä»»åŠ¡\n    const completeSystemTask = async (taskId) => {\n      // ç¡®ä¿æœ‰å½“å‰æ¤ç‰©\n      if (!plantStore.currentPlant) {\n        ElMessageBox.alert('è¯·å…ˆåœ¨èŠ±å›­ä¸­æ·»åŠ ä¸€ä¸ªæ¤ç‰©', 'æç¤º', {\n          confirmButtonText: 'ç¡®å®š'\n        })\n        return\n      }\n      \n      // å®Œæˆä»»åŠ¡\n      await taskStore.completeSystemTask(taskId)\n    }\n    \n    // å®Œæˆç”¨æˆ·ä»»åŠ¡\n    const completeUserTask = async (taskId) => {\n      await taskStore.completeTask(taskId)\n    }\n    \n    // ç¼–è¾‘ä»»åŠ¡\n    const editTask = (task) => {\n      editingTask.value = task\n      taskForm.id = task._id\n      taskForm.title = task.title\n      taskForm.description = task.description || ''\n      taskForm.deadline = task.deadline || ''\n      taskForm.important = task.important || false\n      showTaskForm.value = true\n    }\n    \n    // åˆ é™¤ä»»åŠ¡\n    const deleteTask = (taskId) => {\n      ElMessageBox.confirm(\n        'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä»»åŠ¡å—ï¼Ÿ',\n        'åˆ é™¤ä»»åŠ¡',\n        {\n          confirmButtonText: 'ç¡®å®š',\n          cancelButtonText: 'å–æ¶ˆ',\n          type: 'warning'\n        }\n      ).then(() => {\n        taskStore.removeTask(taskId)\n      }).catch(() => {})\n    }\n    \n    // ä¿å­˜ä»»åŠ¡\n    const saveTask = () => {\n      if (!taskForm.title.trim()) {\n        ElMessageBox.alert('è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜', 'æç¤º', {\n          confirmButtonText: 'ç¡®å®š'\n        })\n        return\n      }\n      \n      if (editingTask.value) {\n        // æ›´æ–°ä»»åŠ¡\n        taskStore.updateTask({\n          _id: taskForm.id,\n          title: taskForm.title,\n          description: taskForm.description,\n          deadline: taskForm.deadline,\n          important: taskForm.important\n        })\n      } else {\n        // æ·»åŠ æ–°ä»»åŠ¡\n        taskStore.addTask({\n          title: taskForm.title,\n          description: taskForm.description,\n          deadline: taskForm.deadline,\n          important: taskForm.important\n        })\n      }\n      \n      showTaskForm.value = false\n      resetTaskForm()\n    }\n    \n    // æ ¼å¼åŒ–æ—¥æœŸ\n    const formatDate = (dateString) => {\n      if (!dateString) return ''\n      \n      try {\n        return format(parseISO(dateString), 'yyyy-MM-dd HH:mm')\n      } catch (e) {\n        return dateString\n      }\n    }\n    \n    return {\n      taskStore,\n      plantStore,\n      showTaskForm,\n      taskForm,\n      editingTask,\n      \n      openTaskForm,\n      completeSystemTask,\n      completeUserTask,\n      editTask,\n      deleteTask,\n      saveTask,\n      formatDate\n    }\n  }\n}\n</script>\n\n<style scoped>\n.task-page {\n  padding: 12px;\n  min-height: 100vh;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.task-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.section-title {\n  font-size: 20px;\n  margin: 0;\n  color: #303133;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.section-title::before {\n  content: '';\n  display: block;\n  width: 4px;\n  height: 18px;\n  background: linear-gradient(to bottom, #42b983, #2d9cdb);\n  border-radius: 2px;\n}\n\n.task-header .section-title {\n  font-size: 24px;\n}\n\n.task-header .section-title::before {\n  height: 24px;\n}\n\n.add-task-button {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 20px;\n  border-radius: 30px;\n  border: none;\n  background: linear-gradient(135deg, #42b983, #2d9cdb);\n  color: white;\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 12px rgba(66, 185, 131, 0.25);\n}\n\n.add-task-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 18px rgba(66, 185, 131, 0.35);\n}\n\n.add-task-button:active {\n  transform: translateY(1px);\n  box-shadow: 0 2px 8px rgba(66, 185, 131, 0.3);\n}\n\n.card {\n  background-color: white;\n  border-radius: 16px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\n  padding: 20px;\n  margin-bottom: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.03);\n  transition: all 0.3s ease;\n}\n\n.card:hover {\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #f0f2f5;\n  padding-bottom: 12px;\n}\n\n.task-count-tag {\n  font-size: 12px;\n  padding: 4px 8px;\n  border-radius: 12px;\n}\n\n.tasks-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.task-item {\n  padding: 12px 14px;\n  border-radius: 12px;\n  background-color: white;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  transition: all 0.2s ease;\n  border-left: 3px solid #409EFF;\n  position: relative;\n}\n\n.task-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);\n}\n\n.task-item.important {\n  border-left-color: #F7BA2A;\n  background-color: #fffdf7;\n}\n\n.task-item.completed {\n  background-color: #f7f8fa;\n  border-left-color: #909399;\n  opacity: 0.85;\n}\n\n.system-tasks .task-item {\n  border-left-color: #67C23A;\n  background-color: #f9fdf9;\n}\n\n.task-left {\n  display: flex;\n  flex: 1;\n  align-items: flex-start;\n  gap: 10px;\n  overflow: hidden;\n}\n\n.task-icon {\n  font-size: 24px;\n  margin-right: 5px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  background-color: rgba(103, 194, 58, 0.1);\n  border-radius: 50%;\n  color: #67C23A;\n}\n\n.task-checkbox {\n  padding: 4px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n\n.task-checkbox:hover {\n  background-color: rgba(64, 158, 255, 0.1);\n}\n\n.task-checkbox :deep(.el-checkbox__inner) {\n  width: 18px;\n  height: 18px;\n  border-radius: 6px;\n  border: 2px solid #DCDFE6;\n  transition: all 0.2s;\n}\n\n.task-checkbox :deep(.el-checkbox__inner::after) {\n  height: 9px;\n  left: 6px;\n  width: 4px;\n  border-width: 2px;\n}\n\n.task-checkbox :deep(.el-checkbox__input.is-checked .el-checkbox__inner) {\n  background-color: #409EFF;\n  border-color: #409EFF;\n}\n\n.task-content {\n  flex: 1;\n  min-width: 0;\n  overflow: hidden;\n}\n\n.task-title-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n}\n\n.task-title {\n  margin: 0;\n  font-size: 15px;\n  font-weight: 600;\n  color: #303133;\n  line-height: 1.4;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.task-description {\n  margin: 0 0 6px 0;\n  font-size: 13px;\n  color: #606266;\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.task-meta {\n  font-size: 12px;\n  color: #909399;\n  display: flex;\n  gap: 10px;\n}\n\n.task-deadline {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.empty-tasks {\n  padding: 30px 0;\n  text-align: center;\n}\n\n.completed-at {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: #909399;\n}\n\n.task-actions {\n  display: flex;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.complete-button {\n  border-radius: 20px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n.complete-button:hover {\n  transform: scale(1.05);\n}\n\n/* å¯¹è¯æ¡†å’Œè¡¨å•æ ·å¼ */\n.modern-dialog {\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  animation: slideUp 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);\n}\n\n@keyframes slideUp {\n  from { transform: translateY(50px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n}\n\n.modern-form {\n  padding: 24px;\n}\n\n.form-item-animated {\n  margin-bottom: 20px;\n  animation: fadeInUp 0.5s ease;\n  animation-fill-mode: both;\n}\n\n.form-item-animated:nth-child(1) {\n  animation-delay: 0.1s;\n}\n\n.form-item-animated:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.form-item-animated:nth-child(3) {\n  animation-delay: 0.3s;\n}\n\n.form-item-animated:nth-child(4) {\n  animation-delay: 0.4s;\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.modern-input :deep(.el-input__wrapper),\n.modern-textarea :deep(.el-textarea__inner),\n.modern-date-picker :deep(.el-input__wrapper) {\n  border-radius: 10px;\n  border: 1px solid #e0e7ff;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);\n  transition: all 0.3s;\n}\n\n.modern-input :deep(.el-input__wrapper:hover),\n.modern-textarea :deep(.el-textarea__inner:hover),\n.modern-date-picker :deep(.el-input__wrapper:hover) {\n  border-color: #42b983;\n  box-shadow: 0 4px 8px rgba(66, 185, 131, 0.1);\n}\n\n.modern-input :deep(.el-input__wrapper.is-focus),\n.modern-textarea :deep(.el-textarea__inner:focus),\n.modern-date-picker :deep(.el-input__wrapper.is-focus) {\n  border-color: #42b983;\n  box-shadow: 0 0 0 2px rgba(66, 185, 131, 0.2);\n}\n\n.importance-toggle-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 10px 16px;\n  background: #f9fafc;\n  border-radius: 10px;\n  border: 1px solid #e0e7ff;\n  transition: all 0.3s;\n}\n\n.importance-toggle-container:hover {\n  background: #f5f7fa;\n  border-color: #e0e7ff;\n}\n\n.importance-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-weight: 500;\n}\n\n.importance-label:hover {\n  transform: scale(1.05);\n}\n\n.importance-label.active {\n  color: #F7BA2A;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding-top: 10px;\n}\n\n.cancel-button,\n.save-button {\n  padding: 10px 20px;\n  border-radius: 30px;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.save-button {\n  background: linear-gradient(135deg, #42b983, #2d9cdb);\n  border: none;\n}\n\n.save-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 18px rgba(66, 185, 131, 0.35);\n}\n\n.modern-dialog :deep(.el-dialog__header) {\n  padding: 20px 24px;\n  border-bottom: 1px solid #eee;\n  background: linear-gradient(135deg, #42b983, #2d9cdb);\n}\n\n.modern-dialog :deep(.el-dialog__title) {\n  color: white;\n  font-size: 20px;\n  font-weight: 500;\n}\n\n.modern-dialog :deep(.el-dialog__headerbtn .el-dialog__close) {\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.modern-form :deep(.el-form-item__label) {\n  font-weight: 600;\n  color: #606266;\n  padding-bottom: 8px;\n}\n\n/* å“åº”å¼é€‚é… */\n@media screen and (max-width: 768px) {\n  .task-page {\n    padding: 10px;\n  }\n  \n  .card {\n    padding: 15px;\n  }\n  \n  .task-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 15px;\n  }\n  \n  .task-item {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .task-actions {\n    margin-top: 10px;\n    align-self: flex-end;\n  }\n  \n  .card-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n}\n</style> ","import {\n  millisecondsInHour,\n  millisecondsInMinute,\n} from \"./constants.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const invalidDate = () => constructFrom(options?.in, NaN);\n\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(+date)) return invalidDate();\n\n  const timestamp = +date;\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) return invalidDate();\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) return invalidDate();\n  } else {\n    const tmpDate = new Date(timestamp + time);\n    const result = toDate(0, options?.in);\n    result.setFullYear(\n      tmpDate.getUTCFullYear(),\n      tmpDate.getUTCMonth(),\n      tmpDate.getUTCDate(),\n    );\n    result.setHours(\n      tmpDate.getUTCHours(),\n      tmpDate.getUTCMinutes(),\n      tmpDate.getUTCSeconds(),\n      tmpDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return toDate(timestamp + time + offset, options?.in);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n","import { render } from \"./Task.vue?vue&type=template&id=23bf72f9&scoped=true\"\nimport script from \"./Task.vue?vue&type=script&lang=js\"\nexport * from \"./Task.vue?vue&type=script&lang=js\"\n\nimport \"./Task.vue?vue&type=style&index=0&id=23bf72f9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23bf72f9\"]])\n\nexport default __exports__"],"names":["useTaskStore","defineStore","tasks","ref","systemTasks","completedTasks","loading","pendingTasks","computed","value","filter","task","completed","fetchTasks","async","response","taskApi","getTasks","error","ElMessage","fetchSystemTasks","getSystemTasks","addTask","importantBool","important","createTask","title","description","deadline","push","success","completeTask","id","find","t","_id","unshift","completedAt","Date","toISOString","plantStore","usePlantStore","plants","length","mainPlant","p","isMainPlant","plantId","expAmount","gainExperience","completeSystemTask","currentPlant","warning","index","findIndex","rewards","experience","status","removeTask","deleteTask","console","removeCompletedTask","updateTask","updatedTask","originalTaskIndex","finalIndex","failedIndex","originalTask","toggleTaskImportance","log","currentImportant","newImportantState","taskIndex","reorderTasks","newOrder","Array","isArray","processedOrder","map","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","$setup","openTaskForm","_createVNode","_component_el_icon","_component_Plus","_hoisted_5","_hoisted_6","_hoisted_7","_component_el_tag","type","size","effect","_component_Trophy","_hoisted_8","_Fragment","_renderList","taskStore","key","_normalizeClass","_hoisted_9","_hoisted_10","_toDisplayString","icon","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_component_Check","formatDate","_hoisted_16","_component_el_button","disabled","$event","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_component_el_empty","_hoisted_21","_hoisted_22","_hoisted_23","_component_el_checkbox","onChange","completeUserTask","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","color","_component_Star","filled","_hoisted_28","_hoisted_29","_hoisted_30","_component_Clock","_hoisted_31","text","editTask","_component_Edit","_component_Delete","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","modelValue","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_component_el_dialog","showTaskForm","editingTask","width","footer","_withCtx","_hoisted_44","saveTask","_component_el_form","model","taskForm","_component_el_form_item","label","required","_component_el_input","placeholder","rows","_component_el_date_picker","format","style","_hoisted_43","_component_el_switch","parseISO","argument","options","invalidDate","constructFrom","in","NaN","additionalDigits","dateStrings","splitDateString","date","parseYearResult","parseYear","parseDate","restDateString","year","isNaN","timestamp","offset","time","parseTime","timezone","tmpDate","result","toDate","setFullYear","getUTCFullYear","getUTCMonth","getUTCDate","setHours","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","parseTimezone","patterns","dateTimeDelimiter","timeZoneDelimiter","dateRegex","timeRegex","timezoneRegex","dateString","array","split","timeString","test","substr","token","exec","replace","regex","RegExp","captures","match","parseInt","century","slice","isWeekDate","dayOfYear","parseDateUnit","month","day","week","dayOfWeek","validateWeekDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","setUTCFullYear","Math","max","hours","parseTimeUnit","minutes","seconds","validateTime","millisecondsInHour","millisecondsInMinute","parseFloat","timezoneString","sign","validateTimezone","isoWeekYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","daysInMonths","isLeapYearIndex","_year","_hours","name","components","Plus","Clock","Check","Trophy","Edit","Delete","Star","setup","reactive","onMounted","fetchPlants","Promise","all","resetTaskForm","taskId","ElMessageBox","alert","confirmButtonText","confirm","cancelButtonText","then","catch","trim","e","__exports__","render"],"sourceRoot":""}