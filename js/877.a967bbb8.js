"use strict";(self["webpackChunkzhiyuxinsheng"]=self["webpackChunkzhiyuxinsheng"]||[]).push([[877],{4877:function(e,r,a){a.r(r),a.d(r,{default:function(){return F}});var l=a(6768),s=a(5130);const o={class:"register-container"},i={class:"register-card"},n={class:"register-header"},t={class:"app-logo"},u={class:"register-form"},d={class:"login-link"};function g(e,r,a,g,m,c){const p=(0,l.g2)("Sunny"),b=(0,l.g2)("el-icon"),f=(0,l.g2)("el-input"),k=(0,l.g2)("el-form-item"),w=(0,l.g2)("el-button"),h=(0,l.g2)("el-form"),F=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",i,[(0,l.Lk)("div",n,[(0,l.Lk)("div",t,[(0,l.bF)(b,{class:"logo-icon"},{default:(0,l.k6)((()=>[(0,l.bF)(p)])),_:1}),r[4]||(r[4]=(0,l.Lk)("h1",null,"植物日记",-1))]),r[5]||(r[5]=(0,l.Lk)("p",{class:"register-subtitle"},"创建您的新账号",-1))]),(0,l.Lk)("div",u,[(0,l.bF)(h,{ref:"formRef",model:g.registerForm,rules:g.rules,"label-position":"top",onKeyup:(0,s.jR)(g.handleRegister,["enter"])},{default:(0,l.k6)((()=>[(0,l.bF)(k,{label:"用户名",prop:"username"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{modelValue:g.registerForm.username,"onUpdate:modelValue":r[0]||(r[0]=e=>g.registerForm.username=e),placeholder:"请输入用户名","prefix-icon":"User",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(k,{label:"电子邮箱",prop:"email"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{modelValue:g.registerForm.email,"onUpdate:modelValue":r[1]||(r[1]=e=>g.registerForm.email=e),type:"email",placeholder:"请输入电子邮箱","prefix-icon":"Message",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(k,{label:"密码",prop:"password"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{modelValue:g.registerForm.password,"onUpdate:modelValue":r[2]||(r[2]=e=>g.registerForm.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(k,{label:"确认密码",prop:"confirmPassword"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{modelValue:g.registerForm.confirmPassword,"onUpdate:modelValue":r[3]||(r[3]=e=>g.registerForm.confirmPassword=e),type:"password",placeholder:"请再次输入密码","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(w,{type:"primary",class:"submit-button",loading:g.authStore.loading,onClick:g.handleRegister},{default:(0,l.k6)((()=>r[6]||(r[6]=[(0,l.eW)(" 注册 ")]))),_:1,__:[6]},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules","onKeyup"]),(0,l.Lk)("div",d,[r[8]||(r[8]=(0,l.eW)(" 已有账号？ ")),(0,l.bF)(F,{to:"/login",class:"login-text"},{default:(0,l.k6)((()=>r[7]||(r[7]=[(0,l.eW)(" 立即登录 ")]))),_:1,__:[7]})])])])])}a(4114);var m=a(144),c=a(1387),p=a(14),b=a(7477),f=a(1219),k={name:"RegisterPage",components:{Sunny:b.Sunny,User:b.User,Message:b.Message,Lock:b.Lock},setup(){const e=(0,c.rd)(),r=(0,p.n)(),a=(0,m.KR)(null),l=(0,m.Kh)({username:"",email:"",password:"",confirmPassword:"",agreement:!1}),s=(e,r,a)=>{""===r?a(new Error("请再次输入密码")):r!==l.password?a(new Error("两次输入密码不一致")):a()},o=(e,r,a)=>{r?a():a(new Error("请阅读并同意服务条款和隐私政策"))},i={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应在3到20个字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{type:"email",message:"请输入有效的电子邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6个字符",trigger:"blur"}],confirmPassword:[{required:!0,validator:s,trigger:"blur"}],agreement:[{validator:o,trigger:"change"}]},n=async()=>{a.value&&await a.value.validate((async a=>{if(!a)return f.nk.warning("请完成所有必填项并正确填写"),!1;try{await r.register({username:l.username,email:l.email,password:l.password}),f.nk.success("注册成功！即将为您跳转到登录页面。"),setTimeout((()=>{e.push("/login")}),2e3)}catch(s){console.error("注册失败:",s)}}))};return{formRef:a,registerForm:l,rules:i,authStore:r,handleRegister:n}}},w=a(1241);const h=(0,w.A)(k,[["render",g],["__scopeId","data-v-e11724f2"]]);var F=h}}]);
//# sourceMappingURL=877.a967bbb8.js.map