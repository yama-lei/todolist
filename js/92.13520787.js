"use strict";(self["webpackChunkzhiyuxinsheng"]=self["webpackChunkzhiyuxinsheng"]||[]).push([[92],{6092:function(e,l,o){o.r(l),o.d(l,{default:function(){return L}});var a=o(6768),r=o(5130);const n={class:"login-container"},s={class:"login-card"},i={class:"login-header"},t={class:"app-logo"},u={class:"login-form"},d={class:"register-link"};function c(e,l,o,c,g,p){const m=(0,a.g2)("Sunny"),k=(0,a.g2)("el-icon"),b=(0,a.g2)("el-input"),f=(0,a.g2)("el-form-item"),h=(0,a.g2)("el-button"),y=(0,a.g2)("el-form"),L=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",n,[l[8]||(l[8]=(0,a.Lk)("div",{class:"login-background"},null,-1)),(0,a.Lk)("div",s,[(0,a.Lk)("div",i,[(0,a.Lk)("div",t,[(0,a.bF)(k,{class:"logo-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(m)])),_:1}),l[2]||(l[2]=(0,a.Lk)("h1",null,"植物日记",-1))]),l[3]||(l[3]=(0,a.Lk)("p",{class:"login-subtitle"},"欢迎回来，请登录您的账户",-1))]),(0,a.Lk)("div",u,[(0,a.bF)(y,{ref:"loginForm",model:c.formModel,rules:c.rules,"label-position":"top",onKeyup:(0,r.jR)(c.handleLogin,["enter"]),class:"login-form-container"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{label:"邮箱",prop:"email"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:c.formModel.email,"onUpdate:modelValue":l[0]||(l[0]=e=>c.formModel.email=e),placeholder:"请输入邮箱",type:"email","prefix-icon":"Message",clearable:"","input-style":{height:"44px"},autocomplete:"email"},null,8,["modelValue"])])),_:1}),(0,a.bF)(f,{label:"密码",prop:"password"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:c.formModel.password,"onUpdate:modelValue":l[1]||(l[1]=e=>c.formModel.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",clearable:"","input-style":{height:"44px"},autocomplete:"current-password"},null,8,["modelValue"])])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{type:"primary",class:"login-button",loading:c.authStore.loading,onClick:c.handleLogin,size:"large"},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)(" 登录 ")]))),_:1,__:[4]},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules","onKeyup"]),l[7]||(l[7]=(0,a.Lk)("div",{class:"login-divider"},[(0,a.Lk)("span",null,"或者")],-1)),(0,a.Lk)("div",d,[l[6]||(l[6]=(0,a.Lk)("span",null,"还没有账号?",-1)),(0,a.bF)(L,{to:"/register"},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("立即注册")]))),_:1,__:[5]})])])])])}o(4114);var g=o(144),p=o(1387),m=o(14),k=o(7477),b=o(1219),f={name:"LoginPage",components:{Sunny:k.Sunny,Message:k.Message,Lock:k.Lock},setup(){const e=(0,p.lq)(),l=(0,p.rd)(),o=(0,m.n)(),a=(0,g.KR)(null),r=(0,g.Kh)({email:"",password:"",remember:!1}),n={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6个字符",trigger:"blur"}]},s=async()=>{a.value&&await a.value.validate((async a=>{if(!a)return b.nk.warning("请正确填写登录信息"),!1;try{await o.login({email:r.email,password:r.password,remember:r.remember});const a=e.query.redirect||"/";l.push(a)}catch(n){console.error("登录失败:",n)}}))};return{loginForm:a,formModel:r,rules:n,authStore:o,handleLogin:s}}},h=o(1241);const y=(0,h.A)(f,[["render",c],["__scopeId","data-v-5f19c62c"]]);var L=y}}]);
//# sourceMappingURL=92.13520787.js.map